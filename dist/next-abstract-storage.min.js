!function(){var t=t||this,e=t.nx||require("next-js-core2"),i=e.declare("nx.AbstractStorage",{methods:{init:function(e){this.engine=e.engine,this.prefix=e.prefix||"",this.context=e.context||t,this.api={get:e.get||"getItem",set:e.set||"setItem",remove:e.remove||"removeItem"}},set:function(t,i){this.context[this.engine][this.api.set](this.__key(t),e.stringify(i))},sets:function(t){e.each(t,function(t,e){this.set(t,e)},this)},get:function(t){var i=this.context[this.engine][this.api.get](this.__key(t));return e.parse(i)},gets:function(t){var i={},n=this.__keys(t);return e.each(n,function(t,e){i[e]=this.get(e)},this),i},clear:function(t){this.context[this.engine][this.api.remove](this.__key(t))},clears:function(t){var i=this.__keys(t);e.each(i,function(t,e){this.clear(e)},this)},__key:function(t){var e=this.prefix;return e?[e,".",t].join(""):t},__keys:function(t){var i,n,s=this.context[this.engine],h=[];return e.isArray(t)?t:(n=Object.keys(s),i=this.prefix.length+1,e.each(n,function(t,e){this.prefix&&0===e.indexOf(this.prefix+".")&&h.push(e.slice(i))},this),h.length?h:n)}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();