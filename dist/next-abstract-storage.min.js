!function(){var e=e||this,t=e.nx||require("next-js-core2"),i=t.declare("nx.AbstractStorage",{methods:{init:function(e){this.engine=e.engine,this.prefix=e.prefix||""},set:function(i,n){e[this.engine].setItem(this.__key(i),t.stringify(n))},sets:function(e){t.each(e,function(e,t){this.set(e,t)},this)},get:function(i){var n=e[this.engine].getItem(this.__key(i));return t.parse(n)},gets:function(e){var i={},n=this.__keys(e);return t.each(n,function(e,t){i[t]=this.get(t)},this),i},clear:function(t){e[this.engine].removeItem(this.__key(t))},clears:function(e){var i=this.__keys(e);t.each(i,function(e,t){this.clear(t)},this)},__key:function(e){var t=this.prefix;return t?[t,".",e].join(""):e},__keys:function(i){var n,s,r=e[this.engine],h=[];return t.isArray(i)?i:(s=Object.keys(r),n=this.prefix.length+1,t.each(s,function(e,t){this.prefix&&0===t.indexOf(this.prefix+".")&&h.push(t.slice(n))},this),h.length?h:s)}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();